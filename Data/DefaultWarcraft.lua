-- RPE/Data/DefaultWarcraft.lua
-- Default Warcraft dataset - always present, cannot be deleted

RPE = RPE or {}
RPE.Data = RPE.Data or {}

-- Stat definitions for Warcraft
local STATS_WARCRAFT = {
    -- --- Resources ---
    HEALTH = {
        name    = "Health",
        category = "RESOURCE",
        base    = { ref = "MAX_HEALTH", default = 1 },
        min     = 0,
        max     = { ref = "MAX_HEALTH" },
        visible = 1,
        pct     = 0,
        icon    = "Interface\\Addons\\RPEngine\\UI\\Textures\\health.png",
        tooltip = "Your current health. If this reaches 0, you are dead.\\n\\nYour maximum health is $stat.MAX_HEALTH$.",
        recovery = { ruleKey = "health_regen", default = 0 },
        sourceDataset = "DefaultWarcraft",
    },
    MAX_HEALTH = {
        name    = "Max Health",
        category = "RESOURCE",
        base    = { ruleKey = "max_health", default = 100 },
        min     = 0,
        max     = math.huge,
        visible = 0,
        pct     = 0,
        icon    = "Interface\\Addons\\RPEngine\\UI\\Textures\\health.png",
        sourceDataset = "DefaultWarcraft",
    },
    MANA = {
        name    = "Mana",
        category = "RESOURCE",
        base    = { ref = "MAX_MANA", default = 0 },
        min     = 0,
        max     = { ref = "MAX_MANA" },
        visible = 1,
        pct     = 0,
        icon    = "Interface\\Addons\\RPEngine\\UI\\Textures\\mana.png",
        tooltip = "Your current mana. Used to power spells.\\n\\nYour maximum mana is $stat.MAX_MANA$.",
        recovery = { ruleKey = "mana_regen", default = 0 },
        sourceDataset = "DefaultWarcraft",
    },
    MAX_MANA = {
        name    = "Max Mana",
        category = "RESOURCE",
        base    = { ruleKey = "max_mana", default = 100 },
        visible = 0,
        pct     = 0,
        icon    = "Interface\\Addons\\RPEngine\\UI\\Textures\\mana.png",
        sourceDataset = "DefaultWarcraft",
    },
    RAGE = {
        name    = "Rage",
        category = "RESOURCE",
        base    = 0,
        min     = 0,
        max     = 100,
        visible = 1,
        pct     = 0,
        icon    = "Interface\\Addons\\RPEngine\\UI\\Textures\\action.png",
        tooltip = "Your current rage. Used to perform powerful warrior abilities.",
        itemTooltipColor = {1.00, 0.00, 0.00},
        recovery = { ruleKey = "rage_regen", default = 0 },
        sourceDataset = "DefaultWarcraft",
    },
    ENERGY = {
        name    = "Energy",
        category = "RESOURCE",
        base    = 100,
        min     = 0,
        max     = 100,
        visible = 1,
        pct     = 0,
        icon    = "Interface\\Addons\\RPEngine\\UI\\Textures\\action.png",
        tooltip = "Your current energy. Used to perform rogue abilities.",
        itemTooltipColor = {1.00, 1.00, 0.00},
        recovery = { ruleKey = "energy_regen", default = 10 },
        sourceDataset = "DefaultWarcraft",
    },
    FOCUS = {
        name    = "Focus",
        category = "RESOURCE",
        base    = 100,
        min     = 0,
        max     = 100,
        visible = 1,
        pct     = 0,
        icon    = "Interface\\Addons\\RPEngine\\UI\\Textures\\action.png",
        tooltip = "Your current focus. Used to perform hunter abilities.",
        itemTooltipColor = {1.00, 0.50, 0.25},
        recovery = { ruleKey = "focus_regen", default = 5 },
        sourceDataset = "DefaultWarcraft",
    },
    -- --- Primary stats ---
    STR = {
        name    = "Strength",
        category = "PRIMARY",
        base    = 8,
        min     = -math.huge,
        max     = math.huge,
        visible = 1,
        pct     = 0,
        icon    = "Interface\\Addons\\RPEngine\\UI\\Textures\\str.png",
        itemTooltipFormat = "$value$ Strength",
        itemTooltipColor = {1, 1, 1},
        itemTooltipPriority = 100,
        itemLevelWeight = 230,
        sourceDataset = "DefaultWarcraft",
    },
    AGI = {
        name    = "Agility",
        category = "PRIMARY",
        base    = 7,
        min     = -math.huge,
        max     = math.huge,
        visible = 1,
        pct     = 0,
        icon    = "Interface\\Addons\\RPEngine\\UI\\Textures\\agi.png",
        itemTooltipFormat = "$value$ Agility",
        itemTooltipColor = {1, 1, 1},
        itemTooltipPriority = 100,
        itemLevelWeight = 230,
        sourceDataset = "DefaultWarcraft",
    },
    STA = {
        name    = "Stamina",
        category = "PRIMARY",
        base    = 8,
        min     = -math.huge,
        max     = math.huge,
        visible = 1,
        pct     = 0,
        icon    = "Interface\\Addons\\RPEngine\\UI\\Textures\\sta.png",
        itemTooltipFormat = "$value$ Stamina",
        itemTooltipColor = {1, 1, 1},
        itemTooltipPriority = 100,
        itemLevelWeight = 230,
        sourceDataset = "DefaultWarcraft",
    },
    INT = {
        name    = "Intellect",
        category = "PRIMARY",
        base    = 9,
        min     = -math.huge,
        max     = math.huge,
        visible = 1,
        pct     = 0,
        icon    = "Interface\\Addons\\RPEngine\\UI\\Textures\\int.png",
        itemTooltipFormat = "$value$ Intellect",
        itemTooltipColor = {1, 1, 1},
        itemTooltipPriority = 100,
        itemLevelWeight = 230,
        sourceDataset = "DefaultWarcraft",
    },
    SPI = {
        name    = "Spirit",
        category = "PRIMARY",
        base    = 6,
        min     = -math.huge,
        max     = math.huge,
        visible = 1,
        pct     = 0,
        icon    = "Interface\\Addons\\RPEngine\\UI\\Textures\\spi.png",
        itemTooltipFormat = "$value$ Spirit",
        itemTooltipColor = {1, 1, 1},
        itemTooltipPriority = 100,
        itemLevelWeight = 230,
        sourceDataset = "DefaultWarcraft",
    },
    -- --- Melee ---
    MELEE_AP = {
        name = "Attack Power",
        category = "SECONDARY",
        base = { ruleKey = "melee_ap", default = 0 },
        min  = 0,
        max  = { ruleKey = "max_melee_ap" },
        pct  = 0,
        itemTooltipFormat = "$value$ Melee Attack Power",
        itemTooltipColor = {0, 1, 0},
        itemTooltipPriority = 99,
        icon = "Interface\\Addons\\RPEngine\\UI\\Textures\\melee.png",
        sourceDataset = "DefaultWarcraft",
    },
    MELEE_CRIT = {
        name = "Crit. Chance",
        category = "SECONDARY",
        base = { ruleKey = "melee_crit", default = 0 },
        min  = 0,
        max  = math.huge,
        icon = "Interface\\Addons\\RPEngine\\UI\\Textures\\melee.png",
        itemTooltipFormat = "$value$% Melee Crit. Chance",
        itemTooltipColor = {0, 1, 0},
        itemTooltipPriority = 99,
        pct  = 1,
        sourceDataset = "DefaultWarcraft",
    },
    -- --- Spell ---
    SPELL_AP = {
        name = "Spell Power",
        category = "SECONDARY",
        base = { ruleKey = "spell_power", default = 0 },
        min  = 0,
        max  = math.huge,
        pct  = 0,
        icon = "Interface\\Addons\\RPEngine\\UI\\Textures\\spell.png",
        sourceDataset = "DefaultWarcraft",
    },
    SPELL_CRIT = {
        name = "Spell Crit. Chance",
        category = "SECONDARY",
        base = { ruleKey = "spell_crit", default = 0 },
        min  = 0,
        max  = math.huge,
        icon = "Interface\\Addons\\RPEngine\\UI\\Textures\\spell.png",
        pct  = 1,
        sourceDataset = "DefaultWarcraft",
    },
    -- --- Resistances ---
    FIRE_RESIST = {
        name = "Fire",
        category = "RESISTANCE",
        base = 0,
        min  = 0,
        max  = math.huge,
        icon = "Interface\\Addons\\RPEngine\\UI\\Textures\\spell.png",
        pct  = 1,
        sourceDataset = "DefaultWarcraft",
        defenceName = "Fire Resistance",    
        mitigation = {
            normal = "$value$*(0.5-$stat.FIRE_RESIST$/200)",
            critical = "$value$*0",
            fail = "$value$*(1-($stat.FIRE_RESIST$/100))",
        },
    },
    FROST_RESIST = {
        name = "Frost",
        category = "RESISTANCE",
        base = 0,
        min  = 0,
        max  = math.huge,
        icon = "Interface\\Addons\\RPEngine\\UI\\Textures\\spell.png",
        pct  = 1,
        sourceDataset = "DefaultWarcraft",
        defenceName = "Frost Resistance",  
        mitigation = {
            normal = "$value$*0.5",                           -- Block reduces normal damage by 50%
            critical = "$value$*0"                            -- Block doesn't affect critical hits
        },
    },
    NATURE_RESIST = {
        name = "Nature",
        category = "RESISTANCE",
        base = 0,
        min  = 0,
        max  = math.huge,
        icon = "Interface\\Addons\\RPEngine\\UI\\Textures\\spell.png",
        pct  = 1,
        sourceDataset = "DefaultWarcraft",
        defenceName = "Nature Resistance",
        mitigation = {
            normal = "$value$*0.5",                          -- Block reduces normal damage by 50%
            critical = "$value$*0"                            -- Block doesn't affect critical hits
        },
    },
    ARCANE_RESIST = {
        name = "Arcane",
        category = "RESISTANCE",
        base = 0,
        min  = 0,
        max  = math.huge,
        icon = "Interface\\Addons\\RPEngine\\UI\\Textures\\spell.png",
        pct  = 1,
        sourceDataset = "DefaultWarcraft",
        defenceName = "Arcane Resistance",
        mitigation = {
            normal = "$value$*0.5",     -- Block reduces normal damage by 50%
            critical = "$value$*0"                            -- Block doesn't affect critical hits
        },
    },
    SHADOW_RESIST = {
        name = "Shadow",
        category = "RESISTANCE",
        base = 0,
        min  = 0,
        max  = math.huge,
        icon = "Interface\\Addons\\RPEngine\\UI\\Textures\\spell.png",
        pct  = 1,
        sourceDataset = "DefaultWarcraft",
        defenceName = "Shadow Resistance",
        mitigation = {
            normal = "$value$*0.5",     -- Block reduces normal damage by 50%
            critical = "$value$*0"                            -- Block doesn't affect critical hits
        },
    },
    HOLY_RESIST = {
        name = "Holy",
        category = "RESISTANCE",
        base = 0,
        min  = 0,
        max  = math.huge,
        icon = "Interface\\Addons\\RPEngine\\UI\\Textures\\spell.png",
        pct  = 1,
        sourceDataset = "DefaultWarcraft",
        defenceName = "Holy Resistance",
        mitigation = {
            normal = "$value$*0.5",     -- Block reduces normal damage by 50%
            critical = "$value$*0"                            -- Block doesn't affect critical hits
        },
    },
    -- --- Defense ---
    ARMOR = {
        name = "Armor",
        category = "DEFENSE",
        base = 0,
        min  = 0,
        max  = math.huge,
        pct  = 0,
        icon = "Interface\\Addons\\RPEngine\\UI\\Textures\\block.png",
        itemTooltipFormat = "$value$ Armor",
        itemTooltipColor = {0, 1, 0},
        itemTooltipPriority = 99,
        sourceDataset = "DefaultWarcraft",
    },
    DODGE = {
        name = "Dodge Chance",
        category = "DEFENSE",
        base = 5,
        min  = 0,
        max  = math.huge,
        icon = "Interface\\Addons\\RPEngine\\UI\\Textures\\dodge.png",
        itemTooltipFormat = "$value$% Dodge Chance",
        itemTooltipColor = {0, 1, 0},
        itemTooltipPriority = 99,
        pct  = 1,
        sourceDataset = "DefaultWarcraft",
        defenceName = "Dodge Attack",
        mitigation = {
            normal = "$value$*0",     -- Block reduces normal damage by 50%
            critical = "$value$*0"                            -- Block doesn't affect critical hits
        },
    },
    PARRY = {
        name = "Parry Chance",
        category = "DEFENSE",
        base = 5,
        min  = 0,
        max  = math.huge,
        icon = "Interface\\Addons\\RPEngine\\UI\\Textures\\parry.png",
        itemTooltipFormat = "$value$% Parry Chance",
        itemTooltipColor = {0, 1, 0},
        itemTooltipPriority = 99,
        pct  = 1,
        sourceDataset = "DefaultWarcraft",
        defenceName = "Parry Attack",
        mitigation = {
            normal = "$value$*0",     -- Block reduces normal damage by 50%
            critical = "$value$*0"    -- Block doesn't affect critical hits
        },
    },
    BLOCK = {
        name = "Block Chance",
        category = "DEFENSE",
        base = 5,
        min  = 0,
        max  = math.huge,
        icon = "Interface\\Addons\\RPEngine\\UI\\Textures\\block.png",
        itemTooltipFormat = "$value$% Block Chance",
        itemTooltipColor = {0, 1, 0},
        itemTooltipPriority = 99,
        pct  = 1,
        sourceDataset = "DefaultWarcraft",
        defenceName = "Block Attack",
        mitigation = {
            normal = "$value$*0",     -- Block reduces normal damage by 50%
            critical = "$value$*0"                           -- Block doesn't affect critical hits
        },
    },
    -- --- Skills ---
    ACROBATICS = {
        name = "Acrobatics",
        category = "SKILL",
        base = 0,
        min  = -math.huge,
        max  = math.huge,
        visible = 1,
        pct  = 0,
        icon = "Interface\\Addons\\RPEngine\\UI\\Textures\\spell.png",
        sourceDataset = "DefaultWarcraft",
    },
    ANIMAL_HANDLING = {
        name = "Animal Handling",
        category = "SKILL",
        base = 0,
        min  = -math.huge,
        max  = math.huge,
        visible = 1,
        pct  = 0,
        icon = "Interface\\Addons\\RPEngine\\UI\\Textures\\spell.png",
        sourceDataset = "DefaultWarcraft",
    },
    ARCANA = {
        name = "Arcana",
        category = "SKILL",
        base = 0,
        min  = -math.huge,
        max  = math.huge,
        visible = 1,
        pct  = 0,
        icon = "Interface\\Addons\\RPEngine\\UI\\Textures\\spell.png",
        sourceDataset = "DefaultWarcraft",
    },
    ATHLETICS = {
        name = "Athletics",
        category = "SKILL",
        base = 0,
        min  = -math.huge,
        max  = math.huge,
        visible = 1,
        pct  = 0,
        icon = "Interface\\Addons\\RPEngine\\UI\\Textures\\spell.png",
        sourceDataset = "DefaultWarcraft",
    },
    DECEPTION = {
        name = "Deception",
        category = "SKILL",
        base = 0,
        min  = -math.huge,
        max  = math.huge,
        visible = 1,
        pct  = 0,
        icon = "Interface\\Addons\\RPEngine\\UI\\Textures\\spell.png",
        sourceDataset = "DefaultWarcraft",
    },
    HISTORY = {
        name = "History",
        category = "SKILL",
        base = 0,
        min  = -math.huge,
        max  = math.huge,
        visible = 1,
        pct  = 0,
        icon = "Interface\\Addons\\RPEngine\\UI\\Textures\\spell.png",
        sourceDataset = "DefaultWarcraft",
    },
    INSIGHT = {
        name = "Insight",
        category = "SKILL",
        base = 0,
        min  = -math.huge,
        max  = math.huge,
        visible = 1,
        pct  = 0,
        icon = "Interface\\Addons\\RPEngine\\UI\\Textures\\spell.png",
        sourceDataset = "DefaultWarcraft",
    },
    INTIMIDATION = {
        name = "Intimidation",
        category = "SKILL",
        base = 0,
        min  = -math.huge,
        max  = math.huge,
        visible = 1,
        pct  = 0,
        icon = "Interface\\Addons\\RPEngine\\UI\\Textures\\spell.png",
        sourceDataset = "DefaultWarcraft",
    },
    INVESTIGATION = {
        name = "Investigation",
        category = "SKILL",
        base = 0,
        min  = -math.huge,
        max  = math.huge,
        visible = 1,
        pct  = 0,
        icon = "Interface\\Addons\\RPEngine\\UI\\Textures\\spell.png",
        sourceDataset = "DefaultWarcraft",
    },
    MEDICINE = {
        name = "Medicine",
        category = "SKILL",
        base = 0,
        min  = -math.huge,
        max  = math.huge,
        visible = 1,
        pct  = 0,
        icon = "Interface\\Addons\\RPEngine\\UI\\Textures\\spell.png",
        sourceDataset = "DefaultWarcraft",
    },
    NATURE = {
        name = "Nature",
        category = "SKILL",
        base = 0,
        min  = -math.huge,
        max  = math.huge,
        visible = 1,
        pct  = 0,
        icon = "Interface\\Addons\\RPEngine\\UI\\Textures\\spell.png",
        sourceDataset = "DefaultWarcraft",
    },
    PERCEPTION = {
        name = "Perception",
        category = "SKILL",
        base = 0,
        min  = -math.huge,
        max  = math.huge,
        visible = 1,
        pct  = 0,
        icon = "Interface\\Addons\\RPEngine\\UI\\Textures\\spell.png",
        sourceDataset = "DefaultWarcraft",
    },
    PERFORMANCE = {
        name = "Performance",
        category = "SKILL",
        base = 0,
        min  = -math.huge,
        max  = math.huge,
        visible = 1,
        pct  = 0,
        icon = "Interface\\Addons\\RPEngine\\UI\\Textures\\spell.png",
        sourceDataset = "DefaultWarcraft",
    },
    PERSUASION = {
        name = "Persuasion",
        category = "SKILL",
        base = 0,
        min  = -math.huge,
        max  = math.huge,
        visible = 1,
        pct  = 0,
        icon = "Interface\\Addons\\RPEngine\\UI\\Textures\\spell.png",
        sourceDataset = "DefaultWarcraft",
    },
    RELIGION = {
        name = "Religion",
        category = "SKILL",
        base = 0,
        min  = -math.huge,
        max  = math.huge,
        visible = 1,
        pct  = 0,
        icon = "Interface\\Addons\\RPEngine\\UI\\Textures\\spell.png",
        sourceDataset = "DefaultWarcraft",
    },
    SLEIGHT_OF_HAND = {
        name = "Sleight of Hand",
        category = "SKILL",
        base = 0,
        min  = -math.huge,
        max  = math.huge,
        visible = 1,
        pct  = 0,
        icon = "Interface\\Addons\\RPEngine\\UI\\Textures\\spell.png",
        sourceDataset = "DefaultWarcraft",
    },
    STEALTH = {
        name = "Stealth",
        category = "SKILL",
        base = 0,
        min  = -math.huge,
        max  = math.huge,
        visible = 1,
        pct  = 0,
        icon = "Interface\\Addons\\RPEngine\\UI\\Textures\\spell.png",
        sourceDataset = "DefaultWarcraft",
    },
    SURVIVAL = {
        name = "Survival",
        category = "SKILL",
        base = 0,
        min  = -math.huge,
        max  = math.huge,
        visible = 1,
        pct  = 0,
        icon = "Interface\\Addons\\RPEngine\\UI\\Textures\\spell.png",
        sourceDataset = "DefaultWarcraft",
    },
}

RPE.Data.DefaultWarcraft = {
    name = "DefaultWarcraft",
    version = 1,
    author = "RPEngine",
    notes = "Default Warcraft dataset. Cannot be deleted.",
    guid = "DefaultWarcraft-system",
    createdAt = 0,
    updatedAt = 0,
    items = {
        -- Weapon: Orcish Axe
        orcish_axe_warcraft = {
            id = "orcish_axe_warcraft",
            name = "Orcish Axe",
            category = "EQUIPMENT",
            icon = 132402, -- INV_Axe_09
            stackable = false,
            maxStack = 1,
            description = "A brutal axe favored by orc warriors.",
            rarity = "common",
            data = {
                slot = "mainhand",
                stat_MELEE_AP = 3,
            },
        },
        -- Chest: Plate Armor
        plate_armor_warcraft = {
            id = "plate_armor_warcraft",
            name = "Plate Armor",
            category = "EQUIPMENT",
            icon = 132637, -- INV_Chest_Plate01
            stackable = false,
            maxStack = 1,
            description = "Heavy plate armor for maximum protection.",
            rarity = "rare",
            data = {
                slot = "chest",
                stat_ARMOR = 8,
            },
        },
        -- Crafting Material: Elemental Essence
        elemental_essence_warcraft = {
            id = "elemental_essence_warcraft",
            name = "Elemental Essence",
            category = "MATERIAL",
            icon = 237007, -- INV_Elemental_EternalWater
            stackable = true,
            maxStack = 10,
            description = "A swirling essence used in powerful enchantments.",
            rarity = "uncommon",
            data = {},
        },
    },
    spells = {},
    auras = {},
    npcs = {},
    extra = {
        stats = STATS_WARCRAFT,
        interactions = RPE.Data.Default.INTERACTIONS_COMMON,
    },
}

return RPE.Data.DefaultWarcraft
