Events
======

RPEngine's main feature is the handling of combat events.
As a player, your DM will do most of the work in setting up and running events, but there are a few things you should know.

**IMPORTANT** - RPEngine events require a **ruleset** and a **dataset** to function correctly.
Your DM should provide you with these, and they should be activated automatically when you join an event.
You must have the same ruleset and the same combination of datasets as your DM and other players in the event.

Understanding the UI
----------------

When you enter an event, you will see several new UI elements appear on your screen:
- **Unit Frames**: A grid of unit portraits showing all units in the event.
You can swap between teams using the team name buttons.
The units are grouped by raid marker.
- **Event Widget**: The UI at the top of the screen during events, showing whose turn it is, the event name, and various buttons for controlling the event.
It also contains the **progress bar**, which changes depending on the total number of hitpoints across each team.
- **Action Bar**: The action bar at the bottom of the screen, which contains your spells and abilities that you can use during your turn.

In the unit frame grid and event widget, you can hover over a unit's portrait to see more information about it, such as its current HP, status effects, and other relevant details.
You can hover over the portrait to see the unit's tooltip, or hover over the icons surrounding the portrait to see what they mean.

On Your Turn
----------------
When it is your turn, a sound cue will play and your WoW icon on the taskbar will flash (if you are tabbed out!).
You will also see a message in the chat box indicating that it is your turn.

When it is your turn, you can take actions using the action bar at the bottom of the screen.
To cast a spell, simply click on the spell icon in the action bar.
If the spell requires a target, click on the target unit frame after clicking the spell icon.

**IMPORTANT** - Once you begin casting a spell, it cannot be cancelled, and you cannot cast another spell.
Do not attempt to cast a spell unless you are sure you want to use it!

Once you have finished your turn, click the **End Turn** button on the action bar to end your turn early.
This will signal to the DM that you have finished your turn.

**BEST PRACTICE** - Write your emote before your turn begins, so that you can quickly enter it when it is your turn.
Emote first, then cast your spell, then end your turn.

Player Pets
----------------

If you have a pet that you control, it will appear as a separate unit in the event.
When it is your pet's turn, you will see a message in the chat box indicating that it is your pet's turn.

Refer to the **Controlling an NPC** section in the **Running Events** guide for information on how to control your pet during its turn.

Defending
----------------
When another unit casts a spell that targets you, you may have the opportunity to defend against it.
If you can defend, a selection of buttons will appear above your action bar, depending on what spell you were attacked with.
You can choose to attempt a defence or simply take the effect of the spell.

You can also choose to call for aid for help from other players in the event. This can be done once per turn.
If you call for aid, other players will be able to cast some defensive spells, even if it is not their turn.

Reaching 0 HP
----------------
When your character reaches 0 HP, you will not be able to act and must be **resurrected** by another player, or by the DM.
You will not be targettable by other units during this time.